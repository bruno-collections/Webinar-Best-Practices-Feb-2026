info:
  name: Chai.js Tests
  type: http
  seq: 2

http:
  method: GET
  url: "{{baseUrl}}/users/{{defaultUserId}}"

runtime:
  scripts:
    - type: tests
      code: |-
        const body = res.getBody();

        // Fix this test, what should the value be?
        test("Status is 200 OK", () => {
          expect(res.status).to.equal();
        });

        // Fix this test, what 4 first properties does the response have?
        test("User has required fields", () => {
          expect(body).to.have.property("");
          expect(body).to.have.property("");
          expect(body).to.have.property("");
          expect(body).to.have.property("");
        });

        test("Email is valid format", () => {
          const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
          expect(body.email).to.match(emailRegex);
        });

        //Could this also be an assertion?
        test("User ID matches expected type", () => {
          expect(body.id).to.be.a("number");
          expect(body.id).to.be.greaterThan(0);
        });
  assertions:
    - expression: res.status
      operator: eq
      value: "200"
    - expression: res.body.id
      operator: gt
      value: "1"
    - expression: res.body.email
      operator: isString

settings:
  encodeUrl: true
  timeout: 0
  followRedirects: true
  maxRedirects: 5

docs: |-
  # Chai.js Tests ðŸ§ª

  The `tests {}` block gives you full JavaScript with **Chai.js** assertions.

  **This request tests:**
  - Status code validation
  - Required field presence
  - Email format validation with regex
  - Data type checks

  **Key patterns:**
  ```javascript
  test("Test name", () => {
    expect(value).to.equal(expected);
    expect(obj).to.have.property("key");
    expect(str).to.match(/regex/);
  });
  ```

  Notice we also have `assert {}` alongside `tests {}` â€” you can use both together!
