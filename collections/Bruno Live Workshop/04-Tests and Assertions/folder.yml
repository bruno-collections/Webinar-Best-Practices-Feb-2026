info:
  name: 04-Tests and Assertions
  type: folder
  seq: 4

request: {}

docs:
  content: |-
    # âœ… Section 4: Tests and Assertions

    Bruno provides two powerful ways to validate API responses:

    1. **Assert tab** â€” Simple, declarative, no code needed
    2. **Tests tab** â€” Full JavaScript with Chai.js assertions

    In this section, you will:

    - âœ… Enable and use declarative assertions
    - âœ… Write JavaScript test suites with Chai.js
    - âœ… Combine both approaches in a single request
    - âœ… Use an external npm library (Zod) for schema validation
    - âœ… Externalize test logic into reusable JS files

    ðŸ“Œ Make sure the **Workshop** environment is selected from the dropdown (top right).

    ---

    ### ðŸ“‹ Requests in This Section

    ---

    **ðŸ”¹ Assert Basics** â€” Declarative assertions with no code
    - A GET request to the Dog API with three assertions already defined
    - ðŸŽ¯ **Your task:** The assertions are all **disabled** â€” enable them and send the request
    - Check the **Tests** tab in the response to see assertion results
    - ðŸ’¡ Available operators: `eq`, `neq`, `gt`, `gte`, `lt`, `lte`, `contains`, `isNumber`, `isString`, `isBoolean`, `isArray`, `isJson`

    ---

    **ðŸ”¹ Chai.js Tests** â€” JavaScript test suites with `expect()`
    - A GET request to fetch a single user, with both assertions and script-based tests
    - ðŸŽ¯ **Your task:** The test scripts have **missing values** â€” fill in the expected status code and the property names to check
    - ðŸ’¡ **Hint:** What status code does a successful GET return? What are the first four properties on a user object?
    - Notice how assertions and Chai.js tests work **side by side** in the same request

    ---

    **ðŸ”¹ Full Test Suite** â€” Combining assertions, Chai.js, and Zod schema validation
    - A GET request to fetch all users with a comprehensive test suite
    - ðŸŽ¯ **Your task:** The `require("")` statement is missing the **package name** â€” fill it in to load the Zod library
    - ðŸ’¡ **Hint:** The Zod package is already installed in the collection's `package.json`
    - ðŸ”Œ **Note:** Run `npm install` in the collection root directory if you haven't already

    ---

    **ðŸ”¹ Full Test Suite (JS File)** â€” Externalizing tests to a reusable JS file
    - Same tests as "Full Test Suite" but the logic lives in an external `userTests.js` file
    - ðŸŽ¯ **Your task:** The `require("")` path is empty and the function call is missing its argument â€” fill in the correct path and pass the response object
    - ðŸ’¡ **Hint:** The JS file path is relative to the collection root. Check the comment in the script for a clue!

    ---

    ### ðŸ“ Solution Folder

    The **Solution** subfolder contains fully working versions of all test requests.

    **Solution requests:**
    - âœ… **Assert Basics** â€” all assertions enabled and passing
    - âœ… **Chai.js Tests** â€” complete with all expected values and property names
    - âœ… **Full Test Suite** â€” working Zod import and comprehensive validation
    - âœ… **Full Test Suite (JS File)** â€” demonstrates the external JS file pattern with `userTests.js`

    **Supporting files:**
    - ðŸ“„ **userTests.js** â€” reusable module consolidating Chai.js tests and Zod schema validation

    ---

    ### ðŸ“Œ Key Concepts

    - **Assertions** â€” declarative, no-code validation (Assert tab)
    - **Chai.js tests** â€” `test("name", () => { expect(...) })` for expressive JavaScript testing
    - **External libraries** â€” `require("zod")` loads npm packages from the collection's `package.json`
    - **JS file tests** â€” `require("./path/to/file.js")` externalizes logic into reusable modules
    - You can use **both** assertions and script tests together in the same request
  type: text/markdown
